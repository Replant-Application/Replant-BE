# ===========================================
# Replant Backend ?경 ?정 ?시
# ???일??복사?여 .env ?일???성?세??
# cp .env.example .env
# ===========================================

# ?버 ?정
SERVER_PORT=8080
SERVER_TIMEZONE=Asia/Seoul

# AWS S3 ?정
S3_BUCKET=your-bucket-name
S3_ACCESS_KEY=your-access-key
S3_SECRET_KEY=your-secret-key
S3_CLIENT=your-s3-client
S3_REGION=ap-northeast-2

# FCM ?정 (Firebase Admin SDK ?비??계정 JSON)
# ?일 ?치: Replant-BE/firebase/replant-admin.json
FIREBASE_CONFIG_PATH=firebase/replant-admin.json

# LLM (Google Gemini, Qwen/vLLM)
GEMINI_API_KEY=your-gemini-api-key
GEMINI_MODEL=gemini-3-flash-preview
GEMINI_TEMPERATURE=0.7

QWEN_API_URL=http://your-vllm-host:13127
QWEN_API_KEY=dummy
QWEN_MODEL=Qwen/Qwen2.5-14B-Instruct-AWQ
QWEN_TEMPERATURE=0.7

LLM_TIMEOUT=30000
LLM_MAX_RETRIES=2
CHAT_RAG_TOP_K=4
CHAT_RAG_MAX_CHARS=800

# Embedding (Spring AI Transformers / HuggingFace)
EMBEDDING_MODEL_ONNX_URI=https://huggingface.co/intfloat/multilingual-e5-small/resolve/main/onnx/model.onnx
EMBEDDING_TOKENIZER_URI=https://huggingface.co/intfloat/multilingual-e5-small/resolve/main/tokenizer.json
HF_TOKEN=hf_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# Qdrant (Vector DB)
QDRANT_HOST=qdrant.replant.internal
QDRANT_GRPC_PORT=6334
QDRANT_REST_PORT=6333
QDRANT_COLLECTION=user_memory

# One-time RAG sync (startup)
# RAG_SYNC_ONCE=true will run a one-time sync and then disable itself next boot (no state stored).
RAG_SYNC_ONCE=false
# Limit total records per type when running one-time sync (set 1 for sample)
RAG_SYNC_LIMIT=1

# JWT ?정
JWT=your-jwt-secret-key-base64-encoded

# Secondary Database - MariaDB/MySQL (?영 ?이?용)
# MariaDB ?용 ??useInformationSchema=false 권장 (메??이??경고 방?)
DB1_URL=jdbc:mysql://localhost:3306/replant?characterEncoding=UTF-8&useUnicode=true&serverTimezone=Asia/Seoul&useSSL=false&allowPublicKeyRetrieval=true&useInformationSchema=false
DB1_USERNAME=your-db-username
DB1_PASSWORD=your-db-password
DB_DRIVER=com.mysql.cj.jdbc.Driver
DB_CONNECTION_TIMEOUT=30000
DB_MAX_POOL_SIZE=10
DB_MIN_IDLE=5
DB_MAX_LIFETIME=1800000
DB_IDLE_TIMEOUT=600000
DB_LEAK_DETECTION_THRESHOLD=60000
DB_POOL_NAME=MariaDB-HikariPool

# Redis ?정 (로컬 Redis ?용 - ?으?주석 처리)
SPRING_DATA_REDIS_HOST=127.0.0.1
SPRING_DATA_REDIS_PORT=6379
REDIS_URL=127.0.0.1
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_TIMEOUT=2000ms
REDIS_CONNECT_TIMEOUT=2000ms

# 구? 메일 ?정 (메일 ?증??
GOOGLE_MAIL=your-email@gmail.com
GOOGLE_APP_PASSWORD="your-app-password"
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_SMTP_AUTH=true
MAIL_SMTP_STARTTLS_ENABLE=true
MAIL_SMTP_STARTTLS_REQUIRED=true

# ?론?엔??URL (CORS)
FRONTEND_URL=http://localhost:8081

# ?일 ?로???정
MAX_FILE_SIZE=10MB
MAX_REQUEST_SIZE=10MB

# Swagger/API 문서 ?정
SWAGGER_UI_PATH=/swagger-ui.html
API_DOCS_PATH=/v3/api-docs

# Actuator ?정
ACTUATOR_ENDPOINTS=health,info,metrics
ACTUATOR_BASE_PATH=/actuator
ACTUATOR_HEALTH_SHOW_DETAILS=when-authorized
ACTUATOR_HEALTH_ROLES=ADMIN